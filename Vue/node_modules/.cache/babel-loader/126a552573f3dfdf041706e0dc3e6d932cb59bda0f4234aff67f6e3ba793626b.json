{"ast":null,"code":"import _slicedToArray from \"/Users/puzhiqiu/\\u5DE5\\u7A0B\\u9879\\u76EE/HackQuest/web3-vote/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, nextTick, onUpdated, onMounted, defineComponent } from \"vue\";\nimport { isHidden, truthProp, makeStringProp, makeNumericProp, createNamespace } from \"../utils/index.mjs\";\nimport { useRect, useScrollParent, useEventListener } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { useTabStatus } from \"../composables/use-tab-status.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nvar _createNamespace = createNamespace(\"list\"),\n  _createNamespace2 = _slicedToArray(_createNamespace, 3),\n  name = _createNamespace2[0],\n  bem = _createNamespace2[1],\n  t = _createNamespace2[2];\nvar listProps = {\n  error: Boolean,\n  offset: makeNumericProp(300),\n  loading: Boolean,\n  disabled: Boolean,\n  finished: Boolean,\n  scroller: Object,\n  errorText: String,\n  direction: makeStringProp(\"down\"),\n  loadingText: String,\n  finishedText: String,\n  immediateCheck: truthProp\n};\nvar stdin_default = defineComponent({\n  name: name,\n  props: listProps,\n  emits: [\"load\", \"update:error\", \"update:loading\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n      slots = _ref.slots;\n    var loading = ref(props.loading);\n    var root = ref();\n    var placeholder = ref();\n    var tabStatus = useTabStatus();\n    var scrollParent = useScrollParent(root);\n    var scroller = computed(function () {\n      return props.scroller || scrollParent.value;\n    });\n    var check = function check() {\n      nextTick(function () {\n        if (loading.value || props.finished || props.disabled || props.error ||\n        // skip check when inside an inactive tab\n        (tabStatus == null ? void 0 : tabStatus.value) === false) {\n          return;\n        }\n        var direction = props.direction;\n        var offset = +props.offset;\n        var scrollParentRect = useRect(scroller);\n        if (!scrollParentRect.height || isHidden(root)) {\n          return;\n        }\n        var isReachEdge = false;\n        var placeholderRect = useRect(placeholder);\n        if (direction === \"up\") {\n          isReachEdge = scrollParentRect.top - placeholderRect.top <= offset;\n        } else {\n          isReachEdge = placeholderRect.bottom - scrollParentRect.bottom <= offset;\n        }\n        if (isReachEdge) {\n          loading.value = true;\n          emit(\"update:loading\", true);\n          emit(\"load\");\n        }\n      });\n    };\n    var renderFinishedText = function renderFinishedText() {\n      if (props.finished) {\n        var text = slots.finished ? slots.finished() : props.finishedText;\n        if (text) {\n          return _createVNode(\"div\", {\n            \"class\": bem(\"finished-text\")\n          }, [text]);\n        }\n      }\n    };\n    var clickErrorText = function clickErrorText() {\n      emit(\"update:error\", false);\n      check();\n    };\n    var renderErrorText = function renderErrorText() {\n      if (props.error) {\n        var text = slots.error ? slots.error() : props.errorText;\n        if (text) {\n          return _createVNode(\"div\", {\n            \"role\": \"button\",\n            \"class\": bem(\"error-text\"),\n            \"tabindex\": 0,\n            \"onClick\": clickErrorText\n          }, [text]);\n        }\n      }\n    };\n    var renderLoading = function renderLoading() {\n      if (loading.value && !props.finished && !props.disabled) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"loading\")\n        }, [slots.loading ? slots.loading() : _createVNode(Loading, {\n          \"class\": bem(\"loading-icon\")\n        }, {\n          \"default\": function _default() {\n            return [props.loadingText || t(\"loading\")];\n          }\n        })]);\n      }\n    };\n    watch(function () {\n      return [props.loading, props.finished, props.error];\n    }, check);\n    if (tabStatus) {\n      watch(tabStatus, function (tabActive) {\n        if (tabActive) {\n          check();\n        }\n      });\n    }\n    onUpdated(function () {\n      loading.value = props.loading;\n    });\n    onMounted(function () {\n      if (props.immediateCheck) {\n        check();\n      }\n    });\n    useExpose({\n      check: check\n    });\n    useEventListener(\"scroll\", check, {\n      target: scroller,\n      passive: true\n    });\n    return function () {\n      var _a;\n      var Content = (_a = slots[\"default\"]) == null ? void 0 : _a.call(slots);\n      var Placeholder = _createVNode(\"div\", {\n        \"ref\": placeholder,\n        \"class\": bem(\"placeholder\")\n      }, null);\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"role\": \"feed\",\n        \"class\": bem(),\n        \"aria-busy\": loading.value\n      }, [props.direction === \"down\" ? Content : Placeholder, renderLoading(), renderFinishedText(), renderErrorText(), props.direction === \"up\" ? Content : Placeholder]);\n    };\n  }\n});\nexport { stdin_default as default, listProps };","map":{"version":3,"names":["createVNode","_createVNode","ref","watch","computed","nextTick","onUpdated","onMounted","defineComponent","isHidden","truthProp","makeStringProp","makeNumericProp","createNamespace","useRect","useScrollParent","useEventListener","useExpose","useTabStatus","Loading","name","bem","t","listProps","error","Boolean","offset","loading","disabled","finished","scroller","Object","errorText","String","direction","loadingText","finishedText","immediateCheck","stdin_default","props","emits","setup","emit","slots","root","placeholder","tabStatus","scrollParent","value","check","scrollParentRect","height","isReachEdge","placeholderRect","top","bottom","renderFinishedText","text","clickErrorText","renderErrorText","renderLoading","tabActive","target","passive","_a","Content","call","Placeholder","default"],"sources":["/Users/puzhiqiu/工程项目/HackQuest/web3-vote/node_modules/vant/es/list/List.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, nextTick, onUpdated, onMounted, defineComponent } from \"vue\";\nimport { isHidden, truthProp, makeStringProp, makeNumericProp, createNamespace } from \"../utils/index.mjs\";\nimport { useRect, useScrollParent, useEventListener } from \"@vant/use\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { useTabStatus } from \"../composables/use-tab-status.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nconst [name, bem, t] = createNamespace(\"list\");\nconst listProps = {\n  error: Boolean,\n  offset: makeNumericProp(300),\n  loading: Boolean,\n  disabled: Boolean,\n  finished: Boolean,\n  scroller: Object,\n  errorText: String,\n  direction: makeStringProp(\"down\"),\n  loadingText: String,\n  finishedText: String,\n  immediateCheck: truthProp\n};\nvar stdin_default = defineComponent({\n  name,\n  props: listProps,\n  emits: [\"load\", \"update:error\", \"update:loading\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const loading = ref(props.loading);\n    const root = ref();\n    const placeholder = ref();\n    const tabStatus = useTabStatus();\n    const scrollParent = useScrollParent(root);\n    const scroller = computed(() => props.scroller || scrollParent.value);\n    const check = () => {\n      nextTick(() => {\n        if (loading.value || props.finished || props.disabled || props.error || // skip check when inside an inactive tab\n        (tabStatus == null ? void 0 : tabStatus.value) === false) {\n          return;\n        }\n        const {\n          direction\n        } = props;\n        const offset = +props.offset;\n        const scrollParentRect = useRect(scroller);\n        if (!scrollParentRect.height || isHidden(root)) {\n          return;\n        }\n        let isReachEdge = false;\n        const placeholderRect = useRect(placeholder);\n        if (direction === \"up\") {\n          isReachEdge = scrollParentRect.top - placeholderRect.top <= offset;\n        } else {\n          isReachEdge = placeholderRect.bottom - scrollParentRect.bottom <= offset;\n        }\n        if (isReachEdge) {\n          loading.value = true;\n          emit(\"update:loading\", true);\n          emit(\"load\");\n        }\n      });\n    };\n    const renderFinishedText = () => {\n      if (props.finished) {\n        const text = slots.finished ? slots.finished() : props.finishedText;\n        if (text) {\n          return _createVNode(\"div\", {\n            \"class\": bem(\"finished-text\")\n          }, [text]);\n        }\n      }\n    };\n    const clickErrorText = () => {\n      emit(\"update:error\", false);\n      check();\n    };\n    const renderErrorText = () => {\n      if (props.error) {\n        const text = slots.error ? slots.error() : props.errorText;\n        if (text) {\n          return _createVNode(\"div\", {\n            \"role\": \"button\",\n            \"class\": bem(\"error-text\"),\n            \"tabindex\": 0,\n            \"onClick\": clickErrorText\n          }, [text]);\n        }\n      }\n    };\n    const renderLoading = () => {\n      if (loading.value && !props.finished && !props.disabled) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"loading\")\n        }, [slots.loading ? slots.loading() : _createVNode(Loading, {\n          \"class\": bem(\"loading-icon\")\n        }, {\n          default: () => [props.loadingText || t(\"loading\")]\n        })]);\n      }\n    };\n    watch(() => [props.loading, props.finished, props.error], check);\n    if (tabStatus) {\n      watch(tabStatus, (tabActive) => {\n        if (tabActive) {\n          check();\n        }\n      });\n    }\n    onUpdated(() => {\n      loading.value = props.loading;\n    });\n    onMounted(() => {\n      if (props.immediateCheck) {\n        check();\n      }\n    });\n    useExpose({\n      check\n    });\n    useEventListener(\"scroll\", check, {\n      target: scroller,\n      passive: true\n    });\n    return () => {\n      var _a;\n      const Content = (_a = slots.default) == null ? void 0 : _a.call(slots);\n      const Placeholder = _createVNode(\"div\", {\n        \"ref\": placeholder,\n        \"class\": bem(\"placeholder\")\n      }, null);\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"role\": \"feed\",\n        \"class\": bem(),\n        \"aria-busy\": loading.value\n      }, [props.direction === \"down\" ? Content : Placeholder, renderLoading(), renderFinishedText(), renderErrorText(), props.direction === \"up\" ? Content : Placeholder]);\n    };\n  }\n});\nexport {\n  stdin_default as default,\n  listProps\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}