{"ast":null,"code":"import _regeneratorRuntime from \"/Users/puzhiqiu/\\u5DE5\\u7A0B\\u9879\\u76EE/HackQuest/web3-vote/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/puzhiqiu/\\u5DE5\\u7A0B\\u9879\\u76EE/HackQuest/web3-vote/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Web3 from \"web3\";\nimport VoteJSON from \"../contract/Vote.json\";\nvar useWeb3 = function useWeb3() {\n  var web3 = new Web3(Web3.givenProvider || \"wss://sepolia.infura.io/ws/v3/b5ec59d9451e4bdeaf5b81d6e87277ee\");\n  // const contractAddrress = \"0x4618cd6a1f23bde4bad284c2d0f1e87084b1a2bd\";\n  var voteContract = new web3.eth.Contract(VoteJSON.abi, contractAddrress);\n  var getAccount = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var accounts;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return web3.eth.requestAccounts();\n          case 2:\n            accounts = _context.sent;\n            return _context.abrupt(\"return\", accounts[0]);\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function getAccount() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return {\n    web3: web3,\n    voteContract: voteContract,\n    contractAddrress: contractAddrress,\n    getAccount: getAccount\n  };\n};\nexport default useWeb3;","map":{"version":3,"names":["Web3","VoteJSON","useWeb3","web3","givenProvider","voteContract","eth","Contract","abi","contractAddrress","getAccount","requestAccounts","accounts"],"sources":["/Users/puzhiqiu/工程项目/HackQuest/web3-vote/src/hooks/useWeb3.js"],"sourcesContent":["import Web3 from \"web3\";\nimport VoteJSON from \"../contract/Vote.json\";\nconst useWeb3 = () => {\n  const web3 = new Web3(\n    Web3.givenProvider ||\n    \"wss://sepolia.infura.io/ws/v3/b5ec59d9451e4bdeaf5b81d6e87277ee\"\n  );\n  // const contractAddrress = \"0x4618cd6a1f23bde4bad284c2d0f1e87084b1a2bd\";\n  const voteContract = new web3.eth.Contract(VoteJSON.abi, contractAddrress);\n\n  const getAccount = async () => {\n    const accounts = await web3.eth.requestAccounts();\n    return accounts[0];\n  };\n\n  return {\n    web3,\n    voteContract,\n    contractAddrress,\n    getAccount,\n  };\n};\n\nexport default useWeb3;\n"],"mappings":";;AAAA,OAAOA,IAAI,MAAM,MAAM;AACvB,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,IAAMC,OAAO,GAAG,SAAVA,OAAO,GAAS;EACpB,IAAMC,IAAI,GAAG,IAAIH,IAAI,CACnBA,IAAI,CAACI,aAAa,IAClB,gEAAgE,CACjE;EACD;EACA,IAAMC,YAAY,GAAG,IAAIF,IAAI,CAACG,GAAG,CAACC,QAAQ,CAACN,QAAQ,CAACO,GAAG,EAAEC,gBAAgB,CAAC;EAE1E,IAAMC,UAAU;IAAA,sEAAG;MAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACMP,IAAI,CAACG,GAAG,CAACK,eAAe,EAAE;UAAA;YAA3CC,QAAQ;YAAA,iCACPA,QAAQ,CAAC,CAAC,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA,CACnB;IAAA,gBAHKF,UAAU;MAAA;IAAA;EAAA,GAGf;EAED,OAAO;IACLP,IAAI,EAAJA,IAAI;IACJE,YAAY,EAAZA,YAAY;IACZI,gBAAgB,EAAhBA,gBAAgB;IAChBC,UAAU,EAAVA;EACF,CAAC;AACH,CAAC;AAED,eAAeR,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}