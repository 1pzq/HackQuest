{"ast":null,"code":"import _classCallCheck from \"/Users/puzhiqiu/\\u5DE5\\u7A0B\\u9879\\u76EE/HackQuest/web3-vote/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/puzhiqiu/\\u5DE5\\u7A0B\\u9879\\u76EE/HackQuest/web3-vote/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport { nextTick } from \"vue\";\nimport { inBrowser, getScrollParent } from \"@vant/use\";\nimport { remove as _remove, on, off, throttle, supportWebp, getDPR, getBestSelectionFromSrcset, hasIntersectionObserver, modeType, ImageCache } from \"./util.mjs\";\nimport { isObject } from \"../../utils/index.mjs\";\nimport ReactiveListener from \"./listener.mjs\";\nvar DEFAULT_URL = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\nvar DEFAULT_EVENTS = [\"scroll\", \"wheel\", \"mousewheel\", \"resize\", \"animationend\", \"transitionend\", \"touchmove\"];\nvar DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: \"0px\",\n  threshold: 0\n};\nfunction stdin_default() {\n  return /*#__PURE__*/function () {\n    function Lazy(_ref) {\n      var preLoad = _ref.preLoad,\n        error = _ref.error,\n        throttleWait = _ref.throttleWait,\n        preLoadTop = _ref.preLoadTop,\n        dispatchEvent = _ref.dispatchEvent,\n        loading = _ref.loading,\n        attempt = _ref.attempt,\n        _ref$silent = _ref.silent,\n        silent = _ref$silent === void 0 ? true : _ref$silent,\n        scale = _ref.scale,\n        listenEvents = _ref.listenEvents,\n        filter = _ref.filter,\n        adapter = _ref.adapter,\n        observer = _ref.observer,\n        observerOptions = _ref.observerOptions;\n      _classCallCheck(this, Lazy);\n      this.mode = modeType.event;\n      this.listeners = [];\n      this.targetIndex = 0;\n      this.targets = [];\n      this.options = {\n        silent: silent,\n        dispatchEvent: !!dispatchEvent,\n        throttleWait: throttleWait || 200,\n        preLoad: preLoad || 1.3,\n        preLoadTop: preLoadTop || 0,\n        error: error || DEFAULT_URL,\n        loading: loading || DEFAULT_URL,\n        attempt: attempt || 3,\n        scale: scale || getDPR(scale),\n        ListenEvents: listenEvents || DEFAULT_EVENTS,\n        supportWebp: supportWebp(),\n        filter: filter || {},\n        adapter: adapter || {},\n        observer: !!observer,\n        observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n      };\n      this.initEvent();\n      this.imageCache = new ImageCache({\n        max: 200\n      });\n      this.lazyLoadHandler = throttle(this.lazyLoadHandler.bind(this), this.options.throttleWait);\n      this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n    /**\n     * update config\n     * @param  {Object} config params\n     * @return\n     */\n    _createClass(Lazy, [{\n      key: \"config\",\n      value: function config() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        Object.assign(this.options, options);\n      }\n      /**\n       * output listener's load performance\n       * @return {Array}\n       */\n    }, {\n      key: \"performance\",\n      value: function performance() {\n        return this.listeners.map(function (item) {\n          return item.performance();\n        });\n      }\n      /*\n       * add lazy component to queue\n       * @param  {Vue} vm lazy component instance\n       * @return\n       */\n    }, {\n      key: \"addLazyBox\",\n      value: function addLazyBox(vm) {\n        this.listeners.push(vm);\n        if (inBrowser) {\n          this.addListenerTarget(window);\n          this.observer && this.observer.observe(vm.el);\n          if (vm.$el && vm.$el.parentNode) {\n            this.addListenerTarget(vm.$el.parentNode);\n          }\n        }\n      }\n      /*\n       * add image listener to queue\n       * @param  {DOM} el\n       * @param  {object} binding vue directive binding\n       * @param  {vnode} vnode vue directive vnode\n       * @return\n       */\n    }, {\n      key: \"add\",\n      value: function add(el, binding, vnode) {\n        var _this = this;\n        if (this.listeners.some(function (item) {\n          return item.el === el;\n        })) {\n          this.update(el, binding);\n          return nextTick(this.lazyLoadHandler);\n        }\n        var value = this.valueFormatter(binding.value);\n        var src = value.src;\n        nextTick(function () {\n          src = getBestSelectionFromSrcset(el, _this.options.scale) || src;\n          _this.observer && _this.observer.observe(el);\n          var container = Object.keys(binding.modifiers)[0];\n          var $parent;\n          if (container) {\n            $parent = vnode.context.$refs[container];\n            $parent = $parent ? $parent.$el || $parent : document.getElementById(container);\n          }\n          if (!$parent) {\n            $parent = getScrollParent(el);\n          }\n          var newListener = new ReactiveListener({\n            bindType: binding.arg,\n            $parent: $parent,\n            el: el,\n            src: src,\n            loading: value.loading,\n            error: value.error,\n            cors: value.cors,\n            elRenderer: _this.elRenderer.bind(_this),\n            options: _this.options,\n            imageCache: _this.imageCache\n          });\n          _this.listeners.push(newListener);\n          if (inBrowser) {\n            _this.addListenerTarget(window);\n            _this.addListenerTarget($parent);\n          }\n          _this.lazyLoadHandler();\n          nextTick(function () {\n            return _this.lazyLoadHandler();\n          });\n        });\n      }\n      /**\n       * update image src\n       * @param  {DOM} el\n       * @param  {object} vue directive binding\n       * @return\n       */\n    }, {\n      key: \"update\",\n      value: function update(el, binding, vnode) {\n        var _this2 = this;\n        var value = this.valueFormatter(binding.value);\n        var src = value.src;\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n        var exist = this.listeners.find(function (item) {\n          return item.el === el;\n        });\n        if (!exist) {\n          this.add(el, binding, vnode);\n        } else {\n          exist.update({\n            src: src,\n            error: value.error,\n            loading: value.loading\n          });\n        }\n        if (this.observer) {\n          this.observer.unobserve(el);\n          this.observer.observe(el);\n        }\n        this.lazyLoadHandler();\n        nextTick(function () {\n          return _this2.lazyLoadHandler();\n        });\n      }\n      /**\n       * remove listener form list\n       * @param  {DOM} el\n       * @return\n       */\n    }, {\n      key: \"remove\",\n      value: function remove(el) {\n        if (!el) return;\n        this.observer && this.observer.unobserve(el);\n        var existItem = this.listeners.find(function (item) {\n          return item.el === el;\n        });\n        if (existItem) {\n          this.removeListenerTarget(existItem.$parent);\n          this.removeListenerTarget(window);\n          _remove(this.listeners, existItem);\n          existItem.$destroy();\n        }\n      }\n      /*\n       * remove lazy components form list\n       * @param  {Vue} vm Vue instance\n       * @return\n       */\n    }, {\n      key: \"removeComponent\",\n      value: function removeComponent(vm) {\n        if (!vm) return;\n        _remove(this.listeners, vm);\n        this.observer && this.observer.unobserve(vm.el);\n        if (vm.$parent && vm.$el.parentNode) {\n          this.removeListenerTarget(vm.$el.parentNode);\n        }\n        this.removeListenerTarget(window);\n      }\n    }, {\n      key: \"setMode\",\n      value: function setMode(mode) {\n        var _this3 = this;\n        if (!hasIntersectionObserver && mode === modeType.observer) {\n          mode = modeType.event;\n        }\n        this.mode = mode;\n        if (mode === modeType.event) {\n          if (this.observer) {\n            this.listeners.forEach(function (listener) {\n              _this3.observer.unobserve(listener.el);\n            });\n            this.observer = null;\n          }\n          this.targets.forEach(function (target) {\n            _this3.initListen(target.el, true);\n          });\n        } else {\n          this.targets.forEach(function (target) {\n            _this3.initListen(target.el, false);\n          });\n          this.initIntersectionObserver();\n        }\n      }\n      /*\n       *** Private functions ***\n       */\n      /*\n       * add listener target\n       * @param  {DOM} el listener target\n       * @return\n       */\n    }, {\n      key: \"addListenerTarget\",\n      value: function addListenerTarget(el) {\n        if (!el) return;\n        var target = this.targets.find(function (target2) {\n          return target2.el === el;\n        });\n        if (!target) {\n          target = {\n            el: el,\n            id: ++this.targetIndex,\n            childrenCount: 1,\n            listened: true\n          };\n          this.mode === modeType.event && this.initListen(target.el, true);\n          this.targets.push(target);\n        } else {\n          target.childrenCount++;\n        }\n        return this.targetIndex;\n      }\n      /*\n       * remove listener target or reduce target childrenCount\n       * @param  {DOM} el or window\n       * @return\n       */\n    }, {\n      key: \"removeListenerTarget\",\n      value: function removeListenerTarget(el) {\n        var _this4 = this;\n        this.targets.forEach(function (target, index) {\n          if (target.el === el) {\n            target.childrenCount--;\n            if (!target.childrenCount) {\n              _this4.initListen(target.el, false);\n              _this4.targets.splice(index, 1);\n              target = null;\n            }\n          }\n        });\n      }\n      /*\n       * add or remove eventlistener\n       * @param  {DOM} el DOM or Window\n       * @param  {boolean} start flag\n       * @return\n       */\n    }, {\n      key: \"initListen\",\n      value: function initListen(el, start) {\n        var _this5 = this;\n        this.options.ListenEvents.forEach(function (evt) {\n          return (start ? on : off)(el, evt, _this5.lazyLoadHandler);\n        });\n      }\n    }, {\n      key: \"initEvent\",\n      value: function initEvent() {\n        var _this6 = this;\n        this.Event = {\n          listeners: {\n            loading: [],\n            loaded: [],\n            error: []\n          }\n        };\n        this.$on = function (event, func) {\n          if (!_this6.Event.listeners[event]) _this6.Event.listeners[event] = [];\n          _this6.Event.listeners[event].push(func);\n        };\n        this.$once = function (event, func) {\n          var on2 = function on2() {\n            _this6.$off(event, on2);\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            func.apply(_this6, args);\n          };\n          _this6.$on(event, on2);\n        };\n        this.$off = function (event, func) {\n          if (!func) {\n            if (!_this6.Event.listeners[event]) return;\n            _this6.Event.listeners[event].length = 0;\n            return;\n          }\n          _remove(_this6.Event.listeners[event], func);\n        };\n        this.$emit = function (event, context, inCache) {\n          if (!_this6.Event.listeners[event]) return;\n          _this6.Event.listeners[event].forEach(function (func) {\n            return func(context, inCache);\n          });\n        };\n      }\n      /**\n       * find nodes which in viewport and trigger load\n       * @return\n       */\n    }, {\n      key: \"lazyLoadHandler\",\n      value: function lazyLoadHandler() {\n        var _this7 = this;\n        var freeList = [];\n        this.listeners.forEach(function (listener) {\n          if (!listener.el || !listener.el.parentNode) {\n            freeList.push(listener);\n          }\n          var catIn = listener.checkInView();\n          if (!catIn) return;\n          listener.load();\n        });\n        freeList.forEach(function (item) {\n          _remove(_this7.listeners, item);\n          item.$destroy();\n        });\n      }\n      /**\n       * init IntersectionObserver\n       * set mode to observer\n       * @return\n       */\n    }, {\n      key: \"initIntersectionObserver\",\n      value: function initIntersectionObserver() {\n        var _this8 = this;\n        if (!hasIntersectionObserver) {\n          return;\n        }\n        this.observer = new IntersectionObserver(this.observerHandler.bind(this), this.options.observerOptions);\n        if (this.listeners.length) {\n          this.listeners.forEach(function (listener) {\n            _this8.observer.observe(listener.el);\n          });\n        }\n      }\n      /**\n       * init IntersectionObserver\n       * @return\n       */\n    }, {\n      key: \"observerHandler\",\n      value: function observerHandler(entries) {\n        var _this9 = this;\n        entries.forEach(function (entry) {\n          if (entry.isIntersecting) {\n            _this9.listeners.forEach(function (listener) {\n              if (listener.el === entry.target) {\n                if (listener.state.loaded) return _this9.observer.unobserve(listener.el);\n                listener.load();\n              }\n            });\n          }\n        });\n      }\n      /**\n       * set element attribute with image'url and state\n       * @param  {object} lazyload listener object\n       * @param  {string} state will be rendered\n       * @param  {bool} inCache  is rendered from cache\n       * @return\n       */\n    }, {\n      key: \"elRenderer\",\n      value: function elRenderer(listener, state, cache) {\n        if (!listener.el) return;\n        var el = listener.el,\n          bindType = listener.bindType;\n        var src;\n        switch (state) {\n          case \"loading\":\n            src = listener.loading;\n            break;\n          case \"error\":\n            src = listener.error;\n            break;\n          default:\n            src = listener.src;\n            break;\n        }\n        if (bindType) {\n          el.style[bindType] = 'url(\"' + src + '\")';\n        } else if (el.getAttribute(\"src\") !== src) {\n          el.setAttribute(\"src\", src);\n        }\n        el.setAttribute(\"lazy\", state);\n        this.$emit(state, listener, cache);\n        this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n        if (this.options.dispatchEvent) {\n          var event = new CustomEvent(state, {\n            detail: listener\n          });\n          el.dispatchEvent(event);\n        }\n      }\n      /**\n       * generate loading loaded error image url\n       * @param {string} image's src\n       * @return {object} image's loading, loaded, error url\n       */\n    }, {\n      key: \"valueFormatter\",\n      value: function valueFormatter(value) {\n        var src = value;\n        var _this$options = this.options,\n          loading = _this$options.loading,\n          error = _this$options.error;\n        if (isObject(value)) {\n          if (process.env.NODE_ENV !== \"production\" && !value.src && !this.options.silent) {\n            console.error(\"[@vant/lazyload] miss src with \" + value);\n          }\n          src = value.src;\n          loading = value.loading || this.options.loading;\n          error = value.error || this.options.error;\n        }\n        return {\n          src: src,\n          loading: loading,\n          error: error\n        };\n      }\n    }]);\n    return Lazy;\n  }();\n}\nexport { stdin_default as default };","map":{"version":3,"names":["nextTick","inBrowser","getScrollParent","remove","on","off","throttle","supportWebp","getDPR","getBestSelectionFromSrcset","hasIntersectionObserver","modeType","ImageCache","isObject","ReactiveListener","DEFAULT_URL","DEFAULT_EVENTS","DEFAULT_OBSERVER_OPTIONS","rootMargin","threshold","stdin_default","preLoad","error","throttleWait","preLoadTop","dispatchEvent","loading","attempt","silent","scale","listenEvents","filter","adapter","observer","observerOptions","mode","event","listeners","targetIndex","targets","options","ListenEvents","initEvent","imageCache","max","lazyLoadHandler","bind","setMode","Object","assign","map","item","performance","vm","push","addListenerTarget","window","observe","el","$el","parentNode","binding","vnode","some","update","value","valueFormatter","src","container","keys","modifiers","$parent","context","$refs","document","getElementById","newListener","bindType","arg","cors","elRenderer","exist","find","add","unobserve","existItem","removeListenerTarget","$destroy","forEach","listener","target","initListen","initIntersectionObserver","target2","id","childrenCount","listened","index","splice","start","evt","Event","loaded","$on","func","$once","on2","$off","args","apply","length","$emit","inCache","freeList","catIn","checkInView","load","IntersectionObserver","observerHandler","entries","entry","isIntersecting","state","cache","style","getAttribute","setAttribute","CustomEvent","detail","process","env","NODE_ENV","console","default"],"sources":["/Users/puzhiqiu/工程项目/HackQuest/web3-vote/node_modules/vant/es/lazyload/vue-lazyload/lazy.mjs"],"sourcesContent":["import { nextTick } from \"vue\";\nimport { inBrowser, getScrollParent } from \"@vant/use\";\nimport {\n  remove,\n  on,\n  off,\n  throttle,\n  supportWebp,\n  getDPR,\n  getBestSelectionFromSrcset,\n  hasIntersectionObserver,\n  modeType,\n  ImageCache\n} from \"./util.mjs\";\nimport { isObject } from \"../../utils/index.mjs\";\nimport ReactiveListener from \"./listener.mjs\";\nconst DEFAULT_URL = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\nconst DEFAULT_EVENTS = [\n  \"scroll\",\n  \"wheel\",\n  \"mousewheel\",\n  \"resize\",\n  \"animationend\",\n  \"transitionend\",\n  \"touchmove\"\n];\nconst DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: \"0px\",\n  threshold: 0\n};\nfunction stdin_default() {\n  return class Lazy {\n    constructor({\n      preLoad,\n      error,\n      throttleWait,\n      preLoadTop,\n      dispatchEvent,\n      loading,\n      attempt,\n      silent = true,\n      scale,\n      listenEvents,\n      filter,\n      adapter,\n      observer,\n      observerOptions\n    }) {\n      this.mode = modeType.event;\n      this.listeners = [];\n      this.targetIndex = 0;\n      this.targets = [];\n      this.options = {\n        silent,\n        dispatchEvent: !!dispatchEvent,\n        throttleWait: throttleWait || 200,\n        preLoad: preLoad || 1.3,\n        preLoadTop: preLoadTop || 0,\n        error: error || DEFAULT_URL,\n        loading: loading || DEFAULT_URL,\n        attempt: attempt || 3,\n        scale: scale || getDPR(scale),\n        ListenEvents: listenEvents || DEFAULT_EVENTS,\n        supportWebp: supportWebp(),\n        filter: filter || {},\n        adapter: adapter || {},\n        observer: !!observer,\n        observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n      };\n      this.initEvent();\n      this.imageCache = new ImageCache({ max: 200 });\n      this.lazyLoadHandler = throttle(\n        this.lazyLoadHandler.bind(this),\n        this.options.throttleWait\n      );\n      this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n    /**\n     * update config\n     * @param  {Object} config params\n     * @return\n     */\n    config(options = {}) {\n      Object.assign(this.options, options);\n    }\n    /**\n     * output listener's load performance\n     * @return {Array}\n     */\n    performance() {\n      return this.listeners.map((item) => item.performance());\n    }\n    /*\n     * add lazy component to queue\n     * @param  {Vue} vm lazy component instance\n     * @return\n     */\n    addLazyBox(vm) {\n      this.listeners.push(vm);\n      if (inBrowser) {\n        this.addListenerTarget(window);\n        this.observer && this.observer.observe(vm.el);\n        if (vm.$el && vm.$el.parentNode) {\n          this.addListenerTarget(vm.$el.parentNode);\n        }\n      }\n    }\n    /*\n     * add image listener to queue\n     * @param  {DOM} el\n     * @param  {object} binding vue directive binding\n     * @param  {vnode} vnode vue directive vnode\n     * @return\n     */\n    add(el, binding, vnode) {\n      if (this.listeners.some((item) => item.el === el)) {\n        this.update(el, binding);\n        return nextTick(this.lazyLoadHandler);\n      }\n      const value = this.valueFormatter(binding.value);\n      let { src } = value;\n      nextTick(() => {\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n        this.observer && this.observer.observe(el);\n        const container = Object.keys(binding.modifiers)[0];\n        let $parent;\n        if (container) {\n          $parent = vnode.context.$refs[container];\n          $parent = $parent ? $parent.$el || $parent : document.getElementById(container);\n        }\n        if (!$parent) {\n          $parent = getScrollParent(el);\n        }\n        const newListener = new ReactiveListener({\n          bindType: binding.arg,\n          $parent,\n          el,\n          src,\n          loading: value.loading,\n          error: value.error,\n          cors: value.cors,\n          elRenderer: this.elRenderer.bind(this),\n          options: this.options,\n          imageCache: this.imageCache\n        });\n        this.listeners.push(newListener);\n        if (inBrowser) {\n          this.addListenerTarget(window);\n          this.addListenerTarget($parent);\n        }\n        this.lazyLoadHandler();\n        nextTick(() => this.lazyLoadHandler());\n      });\n    }\n    /**\n     * update image src\n     * @param  {DOM} el\n     * @param  {object} vue directive binding\n     * @return\n     */\n    update(el, binding, vnode) {\n      const value = this.valueFormatter(binding.value);\n      let { src } = value;\n      src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n      const exist = this.listeners.find((item) => item.el === el);\n      if (!exist) {\n        this.add(el, binding, vnode);\n      } else {\n        exist.update({\n          src,\n          error: value.error,\n          loading: value.loading\n        });\n      }\n      if (this.observer) {\n        this.observer.unobserve(el);\n        this.observer.observe(el);\n      }\n      this.lazyLoadHandler();\n      nextTick(() => this.lazyLoadHandler());\n    }\n    /**\n     * remove listener form list\n     * @param  {DOM} el\n     * @return\n     */\n    remove(el) {\n      if (!el)\n        return;\n      this.observer && this.observer.unobserve(el);\n      const existItem = this.listeners.find((item) => item.el === el);\n      if (existItem) {\n        this.removeListenerTarget(existItem.$parent);\n        this.removeListenerTarget(window);\n        remove(this.listeners, existItem);\n        existItem.$destroy();\n      }\n    }\n    /*\n     * remove lazy components form list\n     * @param  {Vue} vm Vue instance\n     * @return\n     */\n    removeComponent(vm) {\n      if (!vm)\n        return;\n      remove(this.listeners, vm);\n      this.observer && this.observer.unobserve(vm.el);\n      if (vm.$parent && vm.$el.parentNode) {\n        this.removeListenerTarget(vm.$el.parentNode);\n      }\n      this.removeListenerTarget(window);\n    }\n    setMode(mode) {\n      if (!hasIntersectionObserver && mode === modeType.observer) {\n        mode = modeType.event;\n      }\n      this.mode = mode;\n      if (mode === modeType.event) {\n        if (this.observer) {\n          this.listeners.forEach((listener) => {\n            this.observer.unobserve(listener.el);\n          });\n          this.observer = null;\n        }\n        this.targets.forEach((target) => {\n          this.initListen(target.el, true);\n        });\n      } else {\n        this.targets.forEach((target) => {\n          this.initListen(target.el, false);\n        });\n        this.initIntersectionObserver();\n      }\n    }\n    /*\n     *** Private functions ***\n     */\n    /*\n     * add listener target\n     * @param  {DOM} el listener target\n     * @return\n     */\n    addListenerTarget(el) {\n      if (!el)\n        return;\n      let target = this.targets.find((target2) => target2.el === el);\n      if (!target) {\n        target = {\n          el,\n          id: ++this.targetIndex,\n          childrenCount: 1,\n          listened: true\n        };\n        this.mode === modeType.event && this.initListen(target.el, true);\n        this.targets.push(target);\n      } else {\n        target.childrenCount++;\n      }\n      return this.targetIndex;\n    }\n    /*\n     * remove listener target or reduce target childrenCount\n     * @param  {DOM} el or window\n     * @return\n     */\n    removeListenerTarget(el) {\n      this.targets.forEach((target, index) => {\n        if (target.el === el) {\n          target.childrenCount--;\n          if (!target.childrenCount) {\n            this.initListen(target.el, false);\n            this.targets.splice(index, 1);\n            target = null;\n          }\n        }\n      });\n    }\n    /*\n     * add or remove eventlistener\n     * @param  {DOM} el DOM or Window\n     * @param  {boolean} start flag\n     * @return\n     */\n    initListen(el, start) {\n      this.options.ListenEvents.forEach(\n        (evt) => (start ? on : off)(el, evt, this.lazyLoadHandler)\n      );\n    }\n    initEvent() {\n      this.Event = {\n        listeners: {\n          loading: [],\n          loaded: [],\n          error: []\n        }\n      };\n      this.$on = (event, func) => {\n        if (!this.Event.listeners[event])\n          this.Event.listeners[event] = [];\n        this.Event.listeners[event].push(func);\n      };\n      this.$once = (event, func) => {\n        const on2 = (...args) => {\n          this.$off(event, on2);\n          func.apply(this, args);\n        };\n        this.$on(event, on2);\n      };\n      this.$off = (event, func) => {\n        if (!func) {\n          if (!this.Event.listeners[event])\n            return;\n          this.Event.listeners[event].length = 0;\n          return;\n        }\n        remove(this.Event.listeners[event], func);\n      };\n      this.$emit = (event, context, inCache) => {\n        if (!this.Event.listeners[event])\n          return;\n        this.Event.listeners[event].forEach((func) => func(context, inCache));\n      };\n    }\n    /**\n     * find nodes which in viewport and trigger load\n     * @return\n     */\n    lazyLoadHandler() {\n      const freeList = [];\n      this.listeners.forEach((listener) => {\n        if (!listener.el || !listener.el.parentNode) {\n          freeList.push(listener);\n        }\n        const catIn = listener.checkInView();\n        if (!catIn)\n          return;\n        listener.load();\n      });\n      freeList.forEach((item) => {\n        remove(this.listeners, item);\n        item.$destroy();\n      });\n    }\n    /**\n     * init IntersectionObserver\n     * set mode to observer\n     * @return\n     */\n    initIntersectionObserver() {\n      if (!hasIntersectionObserver) {\n        return;\n      }\n      this.observer = new IntersectionObserver(\n        this.observerHandler.bind(this),\n        this.options.observerOptions\n      );\n      if (this.listeners.length) {\n        this.listeners.forEach((listener) => {\n          this.observer.observe(listener.el);\n        });\n      }\n    }\n    /**\n     * init IntersectionObserver\n     * @return\n     */\n    observerHandler(entries) {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          this.listeners.forEach((listener) => {\n            if (listener.el === entry.target) {\n              if (listener.state.loaded)\n                return this.observer.unobserve(listener.el);\n              listener.load();\n            }\n          });\n        }\n      });\n    }\n    /**\n     * set element attribute with image'url and state\n     * @param  {object} lazyload listener object\n     * @param  {string} state will be rendered\n     * @param  {bool} inCache  is rendered from cache\n     * @return\n     */\n    elRenderer(listener, state, cache) {\n      if (!listener.el)\n        return;\n      const { el, bindType } = listener;\n      let src;\n      switch (state) {\n        case \"loading\":\n          src = listener.loading;\n          break;\n        case \"error\":\n          src = listener.error;\n          break;\n        default:\n          ({ src } = listener);\n          break;\n      }\n      if (bindType) {\n        el.style[bindType] = 'url(\"' + src + '\")';\n      } else if (el.getAttribute(\"src\") !== src) {\n        el.setAttribute(\"src\", src);\n      }\n      el.setAttribute(\"lazy\", state);\n      this.$emit(state, listener, cache);\n      this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n      if (this.options.dispatchEvent) {\n        const event = new CustomEvent(state, {\n          detail: listener\n        });\n        el.dispatchEvent(event);\n      }\n    }\n    /**\n     * generate loading loaded error image url\n     * @param {string} image's src\n     * @return {object} image's loading, loaded, error url\n     */\n    valueFormatter(value) {\n      let src = value;\n      let { loading, error } = this.options;\n      if (isObject(value)) {\n        if (process.env.NODE_ENV !== \"production\" && !value.src && !this.options.silent) {\n          console.error(\"[@vant/lazyload] miss src with \" + value);\n        }\n        ({ src } = value);\n        loading = value.loading || this.options.loading;\n        error = value.error || this.options.error;\n      }\n      return {\n        src,\n        loading,\n        error\n      };\n    }\n  };\n}\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}