{"ast":null,"code":"import { ref } from \"vue\";\nimport { TAP_OFFSET } from \"../utils/index.mjs\";\nfunction getDirection(x, y) {\n  if (x > y) {\n    return \"horizontal\";\n  }\n  if (y > x) {\n    return \"vertical\";\n  }\n  return \"\";\n}\nfunction useTouch() {\n  var startX = ref(0);\n  var startY = ref(0);\n  var deltaX = ref(0);\n  var deltaY = ref(0);\n  var offsetX = ref(0);\n  var offsetY = ref(0);\n  var direction = ref(\"\");\n  var isTap = ref(true);\n  var isVertical = function isVertical() {\n    return direction.value === \"vertical\";\n  };\n  var isHorizontal = function isHorizontal() {\n    return direction.value === \"horizontal\";\n  };\n  var reset = function reset() {\n    deltaX.value = 0;\n    deltaY.value = 0;\n    offsetX.value = 0;\n    offsetY.value = 0;\n    direction.value = \"\";\n    isTap.value = true;\n  };\n  var start = function start(event) {\n    reset();\n    startX.value = event.touches[0].clientX;\n    startY.value = event.touches[0].clientY;\n  };\n  var move = function move(event) {\n    var touch = event.touches[0];\n    deltaX.value = (touch.clientX < 0 ? 0 : touch.clientX) - startX.value;\n    deltaY.value = touch.clientY - startY.value;\n    offsetX.value = Math.abs(deltaX.value);\n    offsetY.value = Math.abs(deltaY.value);\n    var LOCK_DIRECTION_DISTANCE = 10;\n    if (!direction.value || offsetX.value < LOCK_DIRECTION_DISTANCE && offsetY.value < LOCK_DIRECTION_DISTANCE) {\n      direction.value = getDirection(offsetX.value, offsetY.value);\n    }\n    if (isTap.value && (offsetX.value > TAP_OFFSET || offsetY.value > TAP_OFFSET)) {\n      isTap.value = false;\n    }\n  };\n  return {\n    move: move,\n    start: start,\n    reset: reset,\n    startX: startX,\n    startY: startY,\n    deltaX: deltaX,\n    deltaY: deltaY,\n    offsetX: offsetX,\n    offsetY: offsetY,\n    direction: direction,\n    isVertical: isVertical,\n    isHorizontal: isHorizontal,\n    isTap: isTap\n  };\n}\nexport { useTouch };","map":{"version":3,"names":["ref","TAP_OFFSET","getDirection","x","y","useTouch","startX","startY","deltaX","deltaY","offsetX","offsetY","direction","isTap","isVertical","value","isHorizontal","reset","start","event","touches","clientX","clientY","move","touch","Math","abs","LOCK_DIRECTION_DISTANCE"],"sources":["/Users/puzhiqiu/工程项目/HackQuest/HackQuest/vue/node_modules/vant/es/composables/use-touch.mjs"],"sourcesContent":["import { ref } from \"vue\";\nimport { TAP_OFFSET } from \"../utils/index.mjs\";\nfunction getDirection(x, y) {\n  if (x > y) {\n    return \"horizontal\";\n  }\n  if (y > x) {\n    return \"vertical\";\n  }\n  return \"\";\n}\nfunction useTouch() {\n  const startX = ref(0);\n  const startY = ref(0);\n  const deltaX = ref(0);\n  const deltaY = ref(0);\n  const offsetX = ref(0);\n  const offsetY = ref(0);\n  const direction = ref(\"\");\n  const isTap = ref(true);\n  const isVertical = () => direction.value === \"vertical\";\n  const isHorizontal = () => direction.value === \"horizontal\";\n  const reset = () => {\n    deltaX.value = 0;\n    deltaY.value = 0;\n    offsetX.value = 0;\n    offsetY.value = 0;\n    direction.value = \"\";\n    isTap.value = true;\n  };\n  const start = (event) => {\n    reset();\n    startX.value = event.touches[0].clientX;\n    startY.value = event.touches[0].clientY;\n  };\n  const move = (event) => {\n    const touch = event.touches[0];\n    deltaX.value = (touch.clientX < 0 ? 0 : touch.clientX) - startX.value;\n    deltaY.value = touch.clientY - startY.value;\n    offsetX.value = Math.abs(deltaX.value);\n    offsetY.value = Math.abs(deltaY.value);\n    const LOCK_DIRECTION_DISTANCE = 10;\n    if (!direction.value || offsetX.value < LOCK_DIRECTION_DISTANCE && offsetY.value < LOCK_DIRECTION_DISTANCE) {\n      direction.value = getDirection(offsetX.value, offsetY.value);\n    }\n    if (isTap.value && (offsetX.value > TAP_OFFSET || offsetY.value > TAP_OFFSET)) {\n      isTap.value = false;\n    }\n  };\n  return {\n    move,\n    start,\n    reset,\n    startX,\n    startY,\n    deltaX,\n    deltaY,\n    offsetX,\n    offsetY,\n    direction,\n    isVertical,\n    isHorizontal,\n    isTap\n  };\n}\nexport {\n  useTouch\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}