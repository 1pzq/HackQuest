{"ast":null,"code":"import _slicedToArray from \"/Users/puzhiqiu/\\u5DE5\\u7A0B\\u9879\\u76EE/HackQuest/web3-vote/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { ref, defineComponent, computed, watch } from \"vue\";\nimport { raf } from \"@vant/use\";\nimport { createNamespace, makeArrayProp, makeNumberProp, makeStringProp, truthProp, padZero } from \"../utils/index.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport RollingTextItem from \"./RollingTextItem.mjs\";\nvar _createNamespace = createNamespace(\"rolling-text\"),\n  _createNamespace2 = _slicedToArray(_createNamespace, 2),\n  name = _createNamespace2[0],\n  bem = _createNamespace2[1];\nvar rollingTextProps = {\n  startNum: makeNumberProp(0),\n  targetNum: Number,\n  textList: makeArrayProp(),\n  duration: makeNumberProp(2),\n  autoStart: truthProp,\n  direction: makeStringProp(\"down\"),\n  stopOrder: makeStringProp(\"ltr\"),\n  height: makeNumberProp(40)\n};\nvar CIRCLE_NUM = 2;\nvar stdin_default = defineComponent({\n  name: name,\n  props: rollingTextProps,\n  setup: function setup(props) {\n    var isCustomType = computed(function () {\n      return Array.isArray(props.textList) && props.textList.length;\n    });\n    var itemLength = computed(function () {\n      if (isCustomType.value) return props.textList[0].length;\n      return \"\".concat(Math.max(props.startNum, props.targetNum)).length;\n    });\n    var getTextArrByIdx = function getTextArrByIdx(idx) {\n      var result = [];\n      for (var i = 0; i < props.textList.length; i++) {\n        result.push(props.textList[i][idx]);\n      }\n      return result;\n    };\n    var targetNumArr = computed(function () {\n      if (isCustomType.value) return new Array(itemLength.value).fill(\"\");\n      return padZero(props.targetNum, itemLength.value).split(\"\");\n    });\n    var startNumArr = computed(function () {\n      return padZero(props.startNum, itemLength.value).split(\"\");\n    });\n    var getFigureArr = function getFigureArr(i) {\n      var start2 = +startNumArr.value[i];\n      var target = +targetNumArr.value[i];\n      var result = [];\n      for (var i2 = start2; i2 <= 9; i2++) {\n        result.push(i2);\n      }\n      for (var _i = 0; _i <= CIRCLE_NUM; _i++) {\n        for (var j = 0; j <= 9; j++) {\n          result.push(j);\n        }\n      }\n      for (var _i2 = 0; _i2 <= target; _i2++) {\n        result.push(_i2);\n      }\n      return result;\n    };\n    var getDelay = function getDelay(i, len) {\n      if (props.stopOrder === \"ltr\") return 0.2 * i;\n      return 0.2 * (len - 1 - i);\n    };\n    var rolling = ref(props.autoStart);\n    var start = function start() {\n      rolling.value = true;\n    };\n    var reset = function reset() {\n      rolling.value = false;\n      if (props.autoStart) {\n        raf(function () {\n          return start();\n        });\n      }\n    };\n    watch(function () {\n      return props.autoStart;\n    }, function (value) {\n      if (value) {\n        start();\n      }\n    });\n    useExpose({\n      start: start,\n      reset: reset\n    });\n    return function () {\n      return _createVNode(\"div\", {\n        \"class\": bem()\n      }, [targetNumArr.value.map(function (_, i) {\n        return _createVNode(RollingTextItem, {\n          \"figureArr\": isCustomType.value ? getTextArrByIdx(i) : getFigureArr(i),\n          \"duration\": props.duration,\n          \"direction\": props.direction,\n          \"isStart\": rolling.value,\n          \"height\": props.height,\n          \"delay\": getDelay(i, itemLength.value)\n        }, null);\n      })]);\n    };\n  }\n});\nexport { stdin_default as default, rollingTextProps };","map":{"version":3,"names":["createVNode","_createVNode","ref","defineComponent","computed","watch","raf","createNamespace","makeArrayProp","makeNumberProp","makeStringProp","truthProp","padZero","useExpose","RollingTextItem","name","bem","rollingTextProps","startNum","targetNum","Number","textList","duration","autoStart","direction","stopOrder","height","CIRCLE_NUM","stdin_default","props","setup","isCustomType","Array","isArray","length","itemLength","value","Math","max","getTextArrByIdx","idx","result","i","push","targetNumArr","fill","split","startNumArr","getFigureArr","start2","target","i2","j","getDelay","len","rolling","start","reset","map","_","default"],"sources":["/Users/puzhiqiu/工程项目/HackQuest/web3-vote/node_modules/vant/es/rolling-text/RollingText.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { ref, defineComponent, computed, watch } from \"vue\";\nimport { raf } from \"@vant/use\";\nimport { createNamespace, makeArrayProp, makeNumberProp, makeStringProp, truthProp, padZero } from \"../utils/index.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport RollingTextItem from \"./RollingTextItem.mjs\";\nconst [name, bem] = createNamespace(\"rolling-text\");\nconst rollingTextProps = {\n  startNum: makeNumberProp(0),\n  targetNum: Number,\n  textList: makeArrayProp(),\n  duration: makeNumberProp(2),\n  autoStart: truthProp,\n  direction: makeStringProp(\"down\"),\n  stopOrder: makeStringProp(\"ltr\"),\n  height: makeNumberProp(40)\n};\nconst CIRCLE_NUM = 2;\nvar stdin_default = defineComponent({\n  name,\n  props: rollingTextProps,\n  setup(props) {\n    const isCustomType = computed(() => Array.isArray(props.textList) && props.textList.length);\n    const itemLength = computed(() => {\n      if (isCustomType.value)\n        return props.textList[0].length;\n      return `${Math.max(props.startNum, props.targetNum)}`.length;\n    });\n    const getTextArrByIdx = (idx) => {\n      const result = [];\n      for (let i = 0; i < props.textList.length; i++) {\n        result.push(props.textList[i][idx]);\n      }\n      return result;\n    };\n    const targetNumArr = computed(() => {\n      if (isCustomType.value)\n        return new Array(itemLength.value).fill(\"\");\n      return padZero(props.targetNum, itemLength.value).split(\"\");\n    });\n    const startNumArr = computed(() => padZero(props.startNum, itemLength.value).split(\"\"));\n    const getFigureArr = (i) => {\n      const start2 = +startNumArr.value[i];\n      const target = +targetNumArr.value[i];\n      const result = [];\n      for (let i2 = start2; i2 <= 9; i2++) {\n        result.push(i2);\n      }\n      for (let i2 = 0; i2 <= CIRCLE_NUM; i2++) {\n        for (let j = 0; j <= 9; j++) {\n          result.push(j);\n        }\n      }\n      for (let i2 = 0; i2 <= target; i2++) {\n        result.push(i2);\n      }\n      return result;\n    };\n    const getDelay = (i, len) => {\n      if (props.stopOrder === \"ltr\")\n        return 0.2 * i;\n      return 0.2 * (len - 1 - i);\n    };\n    const rolling = ref(props.autoStart);\n    const start = () => {\n      rolling.value = true;\n    };\n    const reset = () => {\n      rolling.value = false;\n      if (props.autoStart) {\n        raf(() => start());\n      }\n    };\n    watch(() => props.autoStart, (value) => {\n      if (value) {\n        start();\n      }\n    });\n    useExpose({\n      start,\n      reset\n    });\n    return () => _createVNode(\"div\", {\n      \"class\": bem()\n    }, [targetNumArr.value.map((_, i) => _createVNode(RollingTextItem, {\n      \"figureArr\": isCustomType.value ? getTextArrByIdx(i) : getFigureArr(i),\n      \"duration\": props.duration,\n      \"direction\": props.direction,\n      \"isStart\": rolling.value,\n      \"height\": props.height,\n      \"delay\": getDelay(i, itemLength.value)\n    }, null))]);\n  }\n});\nexport {\n  stdin_default as default,\n  rollingTextProps\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}