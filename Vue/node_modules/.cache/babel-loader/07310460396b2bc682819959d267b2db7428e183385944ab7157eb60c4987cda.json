{"ast":null,"code":"import _defineProperty from \"/Users/puzhiqiu/\\u5DE5\\u7A0B\\u9879\\u76EE/HackQuest/web3-vote/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/puzhiqiu/\\u5DE5\\u7A0B\\u9879\\u76EE/HackQuest/web3-vote/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport { isDef, clamp, extend, createNamespace } from \"../utils/index.mjs\";\nvar _createNamespace = createNamespace(\"picker\"),\n  _createNamespace2 = _slicedToArray(_createNamespace, 3),\n  name = _createNamespace2[0],\n  bem = _createNamespace2[1],\n  t = _createNamespace2[2];\nvar getFirstEnabledOption = function getFirstEnabledOption(options) {\n  return options.find(function (option) {\n    return !option.disabled;\n  }) || options[0];\n};\nfunction getColumnsType(columns, fields) {\n  var firstColumn = columns[0];\n  if (firstColumn) {\n    if (Array.isArray(firstColumn)) {\n      return \"multiple\";\n    }\n    if (fields.children in firstColumn) {\n      return \"cascade\";\n    }\n  }\n  return \"default\";\n}\nfunction findIndexOfEnabledOption(options, index) {\n  index = clamp(index, 0, options.length);\n  for (var i = index; i < options.length; i++) {\n    if (!options[i].disabled) return i;\n  }\n  for (var _i = index - 1; _i >= 0; _i--) {\n    if (!options[_i].disabled) return _i;\n  }\n  return 0;\n}\nvar isOptionExist = function isOptionExist(options, value, fields) {\n  return value !== void 0 && !!options.find(function (option) {\n    return option[fields.value] === value;\n  });\n};\nfunction findOptionByValue(options, value, fields) {\n  var index = options.findIndex(function (option) {\n    return option[fields.value] === value;\n  });\n  var enabledIndex = findIndexOfEnabledOption(options, index);\n  return options[enabledIndex];\n}\nfunction formatCascadeColumns(columns, fields, selectedValues) {\n  var formatted = [];\n  var cursor = _defineProperty({}, fields.children, columns);\n  var columnIndex = 0;\n  while (cursor && cursor[fields.children]) {\n    var options = cursor[fields.children];\n    var value = selectedValues.value[columnIndex];\n    cursor = isDef(value) ? findOptionByValue(options, value, fields) : void 0;\n    if (!cursor && options.length) {\n      var firstValue = getFirstEnabledOption(options)[fields.value];\n      cursor = findOptionByValue(options, firstValue, fields);\n    }\n    columnIndex++;\n    formatted.push(options);\n  }\n  return formatted;\n}\nfunction getElementTranslateY(element) {\n  var _window$getComputedSt = window.getComputedStyle(element),\n    transform = _window$getComputedSt.transform;\n  var translateY = transform.slice(7, transform.length - 1).split(\", \")[5];\n  return Number(translateY);\n}\nfunction assignDefaultFields(fields) {\n  return extend({\n    text: \"text\",\n    value: \"value\",\n    children: \"children\"\n  }, fields);\n}\nexport { assignDefaultFields, bem, findIndexOfEnabledOption, findOptionByValue, formatCascadeColumns, getColumnsType, getElementTranslateY, getFirstEnabledOption, isOptionExist, name, t };","map":{"version":3,"names":["isDef","clamp","extend","createNamespace","name","bem","t","getFirstEnabledOption","options","find","option","disabled","getColumnsType","columns","fields","firstColumn","Array","isArray","children","findIndexOfEnabledOption","index","length","i","isOptionExist","value","findOptionByValue","findIndex","enabledIndex","formatCascadeColumns","selectedValues","formatted","cursor","columnIndex","firstValue","push","getElementTranslateY","element","window","getComputedStyle","transform","translateY","slice","split","Number","assignDefaultFields","text"],"sources":["/Users/puzhiqiu/工程项目/HackQuest/web3-vote/node_modules/vant/es/picker/utils.mjs"],"sourcesContent":["import { isDef, clamp, extend, createNamespace } from \"../utils/index.mjs\";\nconst [name, bem, t] = createNamespace(\"picker\");\nconst getFirstEnabledOption = (options) => options.find((option) => !option.disabled) || options[0];\nfunction getColumnsType(columns, fields) {\n  const firstColumn = columns[0];\n  if (firstColumn) {\n    if (Array.isArray(firstColumn)) {\n      return \"multiple\";\n    }\n    if (fields.children in firstColumn) {\n      return \"cascade\";\n    }\n  }\n  return \"default\";\n}\nfunction findIndexOfEnabledOption(options, index) {\n  index = clamp(index, 0, options.length);\n  for (let i = index; i < options.length; i++) {\n    if (!options[i].disabled)\n      return i;\n  }\n  for (let i = index - 1; i >= 0; i--) {\n    if (!options[i].disabled)\n      return i;\n  }\n  return 0;\n}\nconst isOptionExist = (options, value, fields) => value !== void 0 && !!options.find((option) => option[fields.value] === value);\nfunction findOptionByValue(options, value, fields) {\n  const index = options.findIndex((option) => option[fields.value] === value);\n  const enabledIndex = findIndexOfEnabledOption(options, index);\n  return options[enabledIndex];\n}\nfunction formatCascadeColumns(columns, fields, selectedValues) {\n  const formatted = [];\n  let cursor = {\n    [fields.children]: columns\n  };\n  let columnIndex = 0;\n  while (cursor && cursor[fields.children]) {\n    const options = cursor[fields.children];\n    const value = selectedValues.value[columnIndex];\n    cursor = isDef(value) ? findOptionByValue(options, value, fields) : void 0;\n    if (!cursor && options.length) {\n      const firstValue = getFirstEnabledOption(options)[fields.value];\n      cursor = findOptionByValue(options, firstValue, fields);\n    }\n    columnIndex++;\n    formatted.push(options);\n  }\n  return formatted;\n}\nfunction getElementTranslateY(element) {\n  const { transform } = window.getComputedStyle(element);\n  const translateY = transform.slice(7, transform.length - 1).split(\", \")[5];\n  return Number(translateY);\n}\nfunction assignDefaultFields(fields) {\n  return extend(\n    {\n      text: \"text\",\n      value: \"value\",\n      children: \"children\"\n    },\n    fields\n  );\n}\nexport {\n  assignDefaultFields,\n  bem,\n  findIndexOfEnabledOption,\n  findOptionByValue,\n  formatCascadeColumns,\n  getColumnsType,\n  getElementTranslateY,\n  getFirstEnabledOption,\n  isOptionExist,\n  name,\n  t\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}