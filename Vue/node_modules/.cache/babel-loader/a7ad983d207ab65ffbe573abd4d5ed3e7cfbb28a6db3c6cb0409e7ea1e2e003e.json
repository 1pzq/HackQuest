{"ast":null,"code":"import _slicedToArray from \"/Users/puzhiqiu/\\u5DE5\\u7A0B\\u9879\\u76EE/HackQuest/HackQuest/vue/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { isDef, truthProp, makeArrayProp, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nimport { Cell } from \"../cell/index.mjs\";\nvar _createNamespace = createNamespace(\"coupon-cell\"),\n  _createNamespace2 = _slicedToArray(_createNamespace, 3),\n  name = _createNamespace2[0],\n  bem = _createNamespace2[1],\n  t = _createNamespace2[2];\nvar couponCellProps = {\n  title: String,\n  border: truthProp,\n  editable: truthProp,\n  coupons: makeArrayProp(),\n  currency: makeStringProp(\"\\xA5\"),\n  chosenCoupon: {\n    type: [Number, Array],\n    \"default\": -1\n  }\n};\nvar getValue = function getValue(coupon) {\n  var value = coupon.value,\n    denominations = coupon.denominations;\n  if (isDef(value)) {\n    return value;\n  }\n  if (isDef(denominations)) {\n    return denominations;\n  }\n  return 0;\n};\nfunction formatValue(_ref) {\n  var coupons = _ref.coupons,\n    chosenCoupon = _ref.chosenCoupon,\n    currency = _ref.currency;\n  var value = 0;\n  var isExist = false;\n  (Array.isArray(chosenCoupon) ? chosenCoupon : [chosenCoupon]).forEach(function (i) {\n    var coupon = coupons[+i];\n    if (coupon) {\n      isExist = true;\n      value += getValue(coupon);\n    }\n  });\n  if (isExist) {\n    return \"-\".concat(currency, \" \").concat((value / 100).toFixed(2));\n  }\n  return coupons.length === 0 ? t(\"noCoupon\") : t(\"count\", coupons.length);\n}\nvar stdin_default = defineComponent({\n  name: name,\n  props: couponCellProps,\n  setup: function setup(props) {\n    return function () {\n      var selected = Array.isArray(props.chosenCoupon) ? props.chosenCoupon.length : props.coupons[+props.chosenCoupon];\n      return _createVNode(Cell, {\n        \"class\": bem(),\n        \"value\": formatValue(props),\n        \"title\": props.title || t(\"title\"),\n        \"border\": props.border,\n        \"isLink\": props.editable,\n        \"valueClass\": bem(\"value\", {\n          selected: selected\n        })\n      }, null);\n    };\n  }\n});\nexport { couponCellProps, stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","defineComponent","isDef","truthProp","makeArrayProp","makeStringProp","createNamespace","Cell","name","bem","t","couponCellProps","title","String","border","editable","coupons","currency","chosenCoupon","type","Number","Array","getValue","coupon","value","denominations","formatValue","isExist","isArray","forEach","i","toFixed","length","stdin_default","props","setup","selected","default"],"sources":["/Users/puzhiqiu/工程项目/HackQuest/HackQuest/vue/node_modules/vant/es/coupon-cell/CouponCell.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { isDef, truthProp, makeArrayProp, makeStringProp, createNamespace } from \"../utils/index.mjs\";\nimport { Cell } from \"../cell/index.mjs\";\nconst [name, bem, t] = createNamespace(\"coupon-cell\");\nconst couponCellProps = {\n  title: String,\n  border: truthProp,\n  editable: truthProp,\n  coupons: makeArrayProp(),\n  currency: makeStringProp(\"\\xA5\"),\n  chosenCoupon: {\n    type: [Number, Array],\n    default: -1\n  }\n};\nconst getValue = (coupon) => {\n  const {\n    value,\n    denominations\n  } = coupon;\n  if (isDef(value)) {\n    return value;\n  }\n  if (isDef(denominations)) {\n    return denominations;\n  }\n  return 0;\n};\nfunction formatValue({\n  coupons,\n  chosenCoupon,\n  currency\n}) {\n  let value = 0;\n  let isExist = false;\n  (Array.isArray(chosenCoupon) ? chosenCoupon : [chosenCoupon]).forEach((i) => {\n    const coupon = coupons[+i];\n    if (coupon) {\n      isExist = true;\n      value += getValue(coupon);\n    }\n  });\n  if (isExist) {\n    return `-${currency} ${(value / 100).toFixed(2)}`;\n  }\n  return coupons.length === 0 ? t(\"noCoupon\") : t(\"count\", coupons.length);\n}\nvar stdin_default = defineComponent({\n  name,\n  props: couponCellProps,\n  setup(props) {\n    return () => {\n      const selected = Array.isArray(props.chosenCoupon) ? props.chosenCoupon.length : props.coupons[+props.chosenCoupon];\n      return _createVNode(Cell, {\n        \"class\": bem(),\n        \"value\": formatValue(props),\n        \"title\": props.title || t(\"title\"),\n        \"border\": props.border,\n        \"isLink\": props.editable,\n        \"valueClass\": bem(\"value\", {\n          selected\n        })\n      }, null);\n    };\n  }\n});\nexport {\n  couponCellProps,\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}