{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { t, bem, isImageFile } from \"./utils.mjs\";\nimport { isDef, extend, numericProp, getSizeStyle, callInterceptor, makeRequiredProp } from \"../utils/index.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Image } from \"../image/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nvar stdin_default = defineComponent({\n  props: {\n    name: numericProp,\n    item: makeRequiredProp(Object),\n    index: Number,\n    imageFit: String,\n    lazyLoad: Boolean,\n    deletable: Boolean,\n    reupload: Boolean,\n    previewSize: [Number, String, Array],\n    beforeDelete: Function\n  },\n  emits: [\"delete\", \"preview\", \"reupload\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n      slots = _ref.slots;\n    var renderMask = function renderMask() {\n      var _props$item = props.item,\n        status = _props$item.status,\n        message = _props$item.message;\n      if (status === \"uploading\" || status === \"failed\") {\n        var MaskIcon = status === \"failed\" ? _createVNode(Icon, {\n          \"name\": \"close\",\n          \"class\": bem(\"mask-icon\")\n        }, null) : _createVNode(Loading, {\n          \"class\": bem(\"loading\")\n        }, null);\n        var showMessage = isDef(message) && message !== \"\";\n        return _createVNode(\"div\", {\n          \"class\": bem(\"mask\")\n        }, [MaskIcon, showMessage && _createVNode(\"div\", {\n          \"class\": bem(\"mask-message\")\n        }, [message])]);\n      }\n    };\n    var onDelete = function onDelete(event) {\n      var name = props.name,\n        item = props.item,\n        index = props.index,\n        beforeDelete = props.beforeDelete;\n      event.stopPropagation();\n      callInterceptor(beforeDelete, {\n        args: [item, {\n          name: name,\n          index: index\n        }],\n        done: function done() {\n          return emit(\"delete\");\n        }\n      });\n    };\n    var onPreview = function onPreview() {\n      return emit(\"preview\");\n    };\n    var onReupload = function onReupload() {\n      return emit(\"reupload\");\n    };\n    var renderDeleteIcon = function renderDeleteIcon() {\n      if (props.deletable && props.item.status !== \"uploading\") {\n        var slot = slots[\"preview-delete\"];\n        return _createVNode(\"div\", {\n          \"role\": \"button\",\n          \"class\": bem(\"preview-delete\", {\n            shadow: !slot\n          }),\n          \"tabindex\": 0,\n          \"aria-label\": t(\"delete\"),\n          \"onClick\": onDelete\n        }, [slot ? slot() : _createVNode(Icon, {\n          \"name\": \"cross\",\n          \"class\": bem(\"preview-delete-icon\")\n        }, null)]);\n      }\n    };\n    var renderCover = function renderCover() {\n      if (slots[\"preview-cover\"]) {\n        var index = props.index,\n          item = props.item;\n        return _createVNode(\"div\", {\n          \"class\": bem(\"preview-cover\")\n        }, [slots[\"preview-cover\"](extend({\n          index: index\n        }, item))]);\n      }\n    };\n    var renderPreview = function renderPreview() {\n      var item = props.item,\n        lazyLoad = props.lazyLoad,\n        imageFit = props.imageFit,\n        previewSize = props.previewSize,\n        reupload = props.reupload;\n      if (isImageFile(item)) {\n        return _createVNode(Image, {\n          \"fit\": imageFit,\n          \"src\": item.objectUrl || item.content || item.url,\n          \"class\": bem(\"preview-image\"),\n          \"width\": Array.isArray(previewSize) ? previewSize[0] : previewSize,\n          \"height\": Array.isArray(previewSize) ? previewSize[1] : previewSize,\n          \"lazyLoad\": lazyLoad,\n          \"onClick\": reupload ? onReupload : onPreview\n        }, {\n          \"default\": renderCover\n        });\n      }\n      return _createVNode(\"div\", {\n        \"class\": bem(\"file\"),\n        \"style\": getSizeStyle(props.previewSize)\n      }, [_createVNode(Icon, {\n        \"class\": bem(\"file-icon\"),\n        \"name\": \"description\"\n      }, null), _createVNode(\"div\", {\n        \"class\": [bem(\"file-name\"), \"van-ellipsis\"]\n      }, [item.file ? item.file.name : item.url]), renderCover()]);\n    };\n    return function () {\n      return _createVNode(\"div\", {\n        \"class\": bem(\"preview\")\n      }, [renderPreview(), renderMask(), renderDeleteIcon()]);\n    };\n  }\n});\nexport { stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","defineComponent","t","bem","isImageFile","isDef","extend","numericProp","getSizeStyle","callInterceptor","makeRequiredProp","Icon","Image","Loading","stdin_default","props","name","item","Object","index","Number","imageFit","String","lazyLoad","Boolean","deletable","reupload","previewSize","Array","beforeDelete","Function","emits","setup","emit","slots","renderMask","status","message","MaskIcon","showMessage","onDelete","event","stopPropagation","args","done","onPreview","onReupload","renderDeleteIcon","slot","shadow","renderCover","renderPreview","objectUrl","content","url","isArray","file","default"],"sources":["/Users/puzhiqiu/工程项目/HackQuest/web3-vote/node_modules/vant/es/uploader/UploaderPreviewItem.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { t, bem, isImageFile } from \"./utils.mjs\";\nimport { isDef, extend, numericProp, getSizeStyle, callInterceptor, makeRequiredProp } from \"../utils/index.mjs\";\nimport { Icon } from \"../icon/index.mjs\";\nimport { Image } from \"../image/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nvar stdin_default = defineComponent({\n  props: {\n    name: numericProp,\n    item: makeRequiredProp(Object),\n    index: Number,\n    imageFit: String,\n    lazyLoad: Boolean,\n    deletable: Boolean,\n    reupload: Boolean,\n    previewSize: [Number, String, Array],\n    beforeDelete: Function\n  },\n  emits: [\"delete\", \"preview\", \"reupload\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const renderMask = () => {\n      const {\n        status,\n        message\n      } = props.item;\n      if (status === \"uploading\" || status === \"failed\") {\n        const MaskIcon = status === \"failed\" ? _createVNode(Icon, {\n          \"name\": \"close\",\n          \"class\": bem(\"mask-icon\")\n        }, null) : _createVNode(Loading, {\n          \"class\": bem(\"loading\")\n        }, null);\n        const showMessage = isDef(message) && message !== \"\";\n        return _createVNode(\"div\", {\n          \"class\": bem(\"mask\")\n        }, [MaskIcon, showMessage && _createVNode(\"div\", {\n          \"class\": bem(\"mask-message\")\n        }, [message])]);\n      }\n    };\n    const onDelete = (event) => {\n      const {\n        name,\n        item,\n        index,\n        beforeDelete\n      } = props;\n      event.stopPropagation();\n      callInterceptor(beforeDelete, {\n        args: [item, {\n          name,\n          index\n        }],\n        done: () => emit(\"delete\")\n      });\n    };\n    const onPreview = () => emit(\"preview\");\n    const onReupload = () => emit(\"reupload\");\n    const renderDeleteIcon = () => {\n      if (props.deletable && props.item.status !== \"uploading\") {\n        const slot = slots[\"preview-delete\"];\n        return _createVNode(\"div\", {\n          \"role\": \"button\",\n          \"class\": bem(\"preview-delete\", {\n            shadow: !slot\n          }),\n          \"tabindex\": 0,\n          \"aria-label\": t(\"delete\"),\n          \"onClick\": onDelete\n        }, [slot ? slot() : _createVNode(Icon, {\n          \"name\": \"cross\",\n          \"class\": bem(\"preview-delete-icon\")\n        }, null)]);\n      }\n    };\n    const renderCover = () => {\n      if (slots[\"preview-cover\"]) {\n        const {\n          index,\n          item\n        } = props;\n        return _createVNode(\"div\", {\n          \"class\": bem(\"preview-cover\")\n        }, [slots[\"preview-cover\"](extend({\n          index\n        }, item))]);\n      }\n    };\n    const renderPreview = () => {\n      const {\n        item,\n        lazyLoad,\n        imageFit,\n        previewSize,\n        reupload\n      } = props;\n      if (isImageFile(item)) {\n        return _createVNode(Image, {\n          \"fit\": imageFit,\n          \"src\": item.objectUrl || item.content || item.url,\n          \"class\": bem(\"preview-image\"),\n          \"width\": Array.isArray(previewSize) ? previewSize[0] : previewSize,\n          \"height\": Array.isArray(previewSize) ? previewSize[1] : previewSize,\n          \"lazyLoad\": lazyLoad,\n          \"onClick\": reupload ? onReupload : onPreview\n        }, {\n          default: renderCover\n        });\n      }\n      return _createVNode(\"div\", {\n        \"class\": bem(\"file\"),\n        \"style\": getSizeStyle(props.previewSize)\n      }, [_createVNode(Icon, {\n        \"class\": bem(\"file-icon\"),\n        \"name\": \"description\"\n      }, null), _createVNode(\"div\", {\n        \"class\": [bem(\"file-name\"), \"van-ellipsis\"]\n      }, [item.file ? item.file.name : item.url]), renderCover()]);\n    };\n    return () => _createVNode(\"div\", {\n      \"class\": bem(\"preview\")\n    }, [renderPreview(), renderMask(), renderDeleteIcon()]);\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}