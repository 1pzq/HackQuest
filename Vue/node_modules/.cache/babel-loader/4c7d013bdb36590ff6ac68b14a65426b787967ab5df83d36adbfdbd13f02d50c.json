{"ast":null,"code":"import _regeneratorRuntime from \"/Users/puzhiqiu/\\u5DE5\\u7A0B\\u9879\\u76EE/HackQuest/HackQuest/vue/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/puzhiqiu/\\u5DE5\\u7A0B\\u9879\\u76EE/HackQuest/HackQuest/vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Web3 from \"web3\";\nimport VoteJSON from \"../contract/Vote.json\";\nvar useWeb3 = function useWeb3() {\n  var web3 = new Web3(Web3.givenProvider || \"wss://go.getblock.io/a047cdffd1734b8e8d97ec95d13e45f5\");\n  console.log(\"Web3 instance: \", web3);\n  var contractAddrress = \"0x9D68e37a2B5E04FC1DAa905d595AEc01AD370538\";\n  var voteContract = new web3.eth.Contract(VoteJSON.abi, contractAddrress);\n  console.log(\"Vote contract instance: \", voteContract);\n  var getAccount = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var accounts;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return web3.eth.requestAccounts();\n          case 2:\n            accounts = _context.sent;\n            console.log(\"Current account: \", accounts[0]);\n            return _context.abrupt(\"return\", accounts[0]);\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function getAccount() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return {\n    web3: web3,\n    voteContract: voteContract,\n    contractAddrress: contractAddrress,\n    getAccount: getAccount\n  };\n};\nexport default useWeb3;","map":{"version":3,"names":["Web3","VoteJSON","useWeb3","web3","givenProvider","console","log","contractAddrress","voteContract","eth","Contract","abi","getAccount","requestAccounts","accounts"],"sources":["/Users/puzhiqiu/工程项目/HackQuest/HackQuest/vue/src/hooks/useWeb3.js"],"sourcesContent":["import Web3 from \"web3\";\nimport VoteJSON from \"../contract/Vote.json\";\n\nconst useWeb3 = () => {\n  const web3 = new Web3(\n    Web3.givenProvider ||\n    \"wss://go.getblock.io/a047cdffd1734b8e8d97ec95d13e45f5\"\n  );\n  console.log(\"Web3 instance: \", web3);\n\n  const contractAddrress = \"0x9D68e37a2B5E04FC1DAa905d595AEc01AD370538\";\n  const voteContract = new web3.eth.Contract(VoteJSON.abi, contractAddrress);\n  console.log(\"Vote contract instance: \", voteContract);\n\n  const getAccount = async () => {\n    const accounts = await web3.eth.requestAccounts();\n    console.log(\"Current account: \", accounts[0]);\n    return accounts[0];\n  };\n\n  return {\n    web3,\n    voteContract,\n    contractAddrress,\n    getAccount,\n  };\n};\n\nexport default useWeb3;\n"],"mappings":";;AAAA,OAAOA,IAAI,MAAM,MAAM;AACvB,OAAOC,QAAQ,MAAM,uBAAuB;AAE5C,IAAMC,OAAO,GAAG,SAAVA,OAAO,GAAS;EACpB,IAAMC,IAAI,GAAG,IAAIH,IAAI,CACnBA,IAAI,CAACI,aAAa,IAClB,uDAAuD,CACxD;EACDC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEH,IAAI,CAAC;EAEpC,IAAMI,gBAAgB,GAAG,4CAA4C;EACrE,IAAMC,YAAY,GAAG,IAAIL,IAAI,CAACM,GAAG,CAACC,QAAQ,CAACT,QAAQ,CAACU,GAAG,EAAEJ,gBAAgB,CAAC;EAC1EF,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEE,YAAY,CAAC;EAErD,IAAMI,UAAU;IAAA,sEAAG;MAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACMT,IAAI,CAACM,GAAG,CAACI,eAAe,EAAE;UAAA;YAA3CC,QAAQ;YACdT,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEQ,QAAQ,CAAC,CAAC,CAAC,CAAC;YAAC,iCACvCA,QAAQ,CAAC,CAAC,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA,CACnB;IAAA,gBAJKF,UAAU;MAAA;IAAA;EAAA,GAIf;EAED,OAAO;IACLT,IAAI,EAAJA,IAAI;IACJK,YAAY,EAAZA,YAAY;IACZD,gBAAgB,EAAhBA,gBAAgB;IAChBK,UAAU,EAAVA;EACF,CAAC;AACH,CAAC;AAED,eAAeV,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}